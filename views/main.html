<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Laricas Delivery</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="cabecalhoSite">
    <h1 class="tituloPrincipal">Laricas Delivery</h1>
  </header>

  <main class="conteudoPrincipal">
    <section class="secaoMenu">
      <div class="categoriaMenu">
        <h2 class="tituloCategoria">Pizzas</h2>
        <div class="listaPratos">
          <div class="cartaoPrato">
            <img src="https://i.imgur.com/vX3qK1K.jpg" alt="Pizza Calabresa" class="imagemPrato">
            <div class="infoPrato">
              <h3 class="nomePrato">Pizza Calabresa</h3>
              <p class="descricaoPrato">Molho de tomate, mussarela, calabresa, cebola e orÃ©gano.</p>
              <p class="precoPrato">R$ 39,90</p>
            </div>
            <button class="botaoAdicionar" onclick="adicionarCarrinho('Pizza Calabresa', 39.90)">Adicionar ao Carrinho</button>
          </div>

          <div class="cartaoPrato">
            <img src="https://i.imgur.com/OWrYr4V.jpg" alt="Pizza Marguerita" class="imagemPrato">
            <div class="infoPrato">
              <h3 class="nomePrato">Pizza Marguerita</h3>
              <p class="descricaoPrato">Molho artesanal, tomate fresco, manjericÃ£o e queijo.</p>
              <p class="precoPrato">R$ 42,00</p>
            </div>
            <button class="botaoAdicionar" onclick="adicionarCarrinho('Pizza Marguerita', 42.00)">Adicionar ao Carrinho</button>
          </div>
        </div>
      </div>

      <div class="categoriaMenu">
        <h2 class="tituloCategoria">HambÃºrgueres</h2>
        <div class="listaPratos">
          <div class="cartaoPrato">
            <img src="https://i.imgur.com/1v6nG9q.jpg" alt="X-Bacon" class="imagemPrato">
            <div class="infoPrato">
              <h3 class="nomePrato">X-Bacon</h3>
              <p class="descricaoPrato">HambÃºrguer 180g, queijo cheddar, bacon crocante e maionese da casa.</p>
              <p class="precoPrato">R$ 28,50</p>
            </div>
            <button class="botaoAdicionar" onclick="adicionarCarrinho('X-Bacon', 28.50)">Adicionar ao Carrinho</button>
          </div>
        </div>
      </div>
    </section>

    <aside class="areaCarrinho" id="carrinho">
      <h2 class="tituloCarrinho">ðŸ›’ Seu Carrinho</h2>
      <div id="itensCarrinho" class="listaCarrinho"></div>
      <div class="resumoTotais">
        <p>Subtotal: R$ <span id="subtotal">0.00</span></p>
        <p>Taxa de Entrega: R$ <span id="taxa">5.00</span></p>
        <p>Total: R$ <span id="total">0.00</span></p>
      </div>
      <button class="botaoFinalizar" onclick="finalizarPedido()">Finalizar Pedido</button>
    </aside>
  </main>

  <section id="statusPedido" class="areaStatusPedido">
    <h2 class="tituloStatus">ðŸ“¦ Pedido Confirmado!</h2>
    <p>NÃºmero do Pedido: <b>#1234</b></p>
    <p>Estimativa de entrega: <b>20:30 - 20:45</b></p>

    <div class="rastreadorPedido">
      <div class="etapaPedido ativa"><span></span>Recebido</div>
      <div class="etapaPedido"><span></span>Em preparo</div>
      <div class="etapaPedido"><span></span>Em entrega</div>
      <div class="etapaPedido"><span></span>Entregue</div>
    </div>

    <button class="botaoVoltar" onclick="voltarInicio()">Voltar ao Menu</button>
  </section>

  <script>
    const carrinho = [];
    const taxaEntrega = 5.00;

    function atualizarCarrinho() {
      const itensDiv = document.getElementById('itensCarrinho');
      const subtotalEl = document.getElementById('subtotal');
      const totalEl = document.getElementById('total');

      itensDiv.innerHTML = '';
      let subtotal = 0;

      carrinho.forEach((item, i) => {
        subtotal += item.preco * item.qtd;
        itensDiv.innerHTML += `
          <div class="itemCarrinho">
            <p><b>${item.nome}</b> (x${item.qtd})</p>
            <p>R$ ${(item.preco * item.qtd).toFixed(2)}</p>
            <button class="botaoRemover" onclick="removerItem(${i})">Remover</button>
          </div>`;
      });

      subtotalEl.innerText = subtotal.toFixed(2);
      totalEl.innerText = (subtotal + taxaEntrega).toFixed(2);
    }

    function adicionarCarrinho(nome, preco) {
      const existente = carrinho.find(p => p.nome === nome);
      if (existente) {
        existente.qtd++;
      } else {
        carrinho.push({ nome, preco, qtd: 1 });
      }
      atualizarCarrinho();
    }

    function removerItem(index) {
      carrinho.splice(index, 1);
      atualizarCarrinho();
    }

    function finalizarPedido() {
      document.querySelector('.conteudoPrincipal').style.display = 'none';
      document.getElementById('statusPedido').style.display = 'block';
      atualizarStatus(0);
      setTimeout(() => atualizarStatus(1), 3000);
      setTimeout(() => atualizarStatus(2), 6000);
      setTimeout(() => atualizarStatus(3), 9000);
    }

    function atualizarStatus(etapa) {
      const etapas = document.querySelectorAll('.etapaPedido');
      etapas.forEach((e, i) => e.classList.toggle('ativa', i <= etapa));
    }

    function voltarInicio() {
      document.getElementById('statusPedido').style.display = 'none';
      document.querySelector('.conteudoPrincipal').style.display = 'flex';
      carrinho.length = 0;
      atualizarCarrinho();
    }

    atualizarCarrinho();
  </script>
</body>
</html>
